#VRML_SIM R2023b utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/floors/protos/RectangleArena.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/Parquetry.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/factory/containers/protos/PlasticCrate.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/factory/containers/protos/WoodenBox.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/solids/protos/SolidBox.proto"
EXTERNPROTO "../protos/MySharpGP2Y0A41SK0F.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/robots/niryo/ned/protos/Ned.proto"

WorldInfo {
}
Viewpoint {
  orientation -0.4445661691229323 0.269548545440051 0.8542274304437392 2.2893905579253357
  position 1.1610896774427681 -0.7928130676176134 1.7593834218904916
}
TexturedBackground {
  texture "factory"
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 3 3
  floorTileSize 3 3
  floorAppearance Parquetry {
    type "light strip"
  }
}
DEF BOX SolidBox {
  translation 0.255775 0.0029765 0.322429
  rotation -1.8534178242715414e-06 -0.9999999998809062 -1.5321636569601174e-05 0.0020602801300233214
  size 0.035 0.02 0.047
  appearance PBRAppearance {
    baseColor 1 0 0
    baseColorMap ImageTexture {
      url [
        "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/default/worlds/textures/tagged_wall.jpg"
      ]
    }
    roughness 0.5
    metalness 0
  }
  physics Physics {
    density 2700
    damping Damping {
      linear 0
      angular 0
    }
  }
}
Robot {
  children [
    DEF DIST_SENSOR MySharpGP2Y0A41SK0F {
      translation 0.6 0.1 0.3299997784956712
      rotation 0 0 -0.9999999999999999 1.5707953071795862
      name "Distance Sensor"
    }
    Track {
      translation -7.706775672552317e-07 8.7997439267992e-11 0.22493162306469003
      rotation -0.0031384523096225493 0.9999948636032929 0.0006502954185940915 3.6265067414210653e-06
      children [
        Shape {
          appearance PBRAppearance {
            baseColorMap ImageTexture {
              url [
                "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/rubber/dotted_rubber_base_color.jpg"
              ]
            }
            roughnessMap ImageTexture {
              url [
                "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/rubber/dotted_rubber_roughness.jpg"
              ]
            }
            metalness 0
            normalMap ImageTexture {
              url [
                "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/rubber/dotted_rubber_normal.jpg"
              ]
            }
            occlusionMap ImageTexture {
              url [
                "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/rubber/dotted_rubber_occlusion.jpg"
              ]
            }
            textureTransform TextureTransform {
              scale 6 0.4
              translation -0.5583999999999613 0
            }
          }
          geometry DEF BELT_BO Box {
            size 1.5 0.1 0.15
          }
        }
      ]
      boundingObject USE BELT_BO
      physics Physics {
        density -1
        mass 1
      }
      device [
        LinearMotor {
          name "belt_motor"
          maxVelocity 0.2
          sound ""
        }
      ]
      textureAnimation 0.6666666666666666 0
    }
    Shape {
      appearance PBRAppearance {
        baseColorMap ImageTexture {
          url [
            "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/corrugated_metal/corrugated_metal_base_color.jpg"
          ]
        }
        roughnessMap ImageTexture {
          url [
            "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/corrugated_metal/corrugated_metal_roughness.jpg"
          ]
        }
        metalnessMap ImageTexture {
          url [
            "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/corrugated_metal/corrugated_metal_metalness.jpg"
          ]
        }
        normalMap ImageTexture {
          url [
            "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/corrugated_metal/corrugated_metal_normal.jpg"
          ]
        }
        occlusionMap ImageTexture {
          url [
            "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/corrugated_metal/corrugated_metal_occlusion.jpg"
          ]
        }
        textureTransform TextureTransform {
          scale 2 2
        }
      }
      geometry IndexedFaceSet {
        coord Coordinate {
          point [
            0.78 -0.08 0
            0.78 -0.08 0.3
            -0.78 -0.08 0.3
            -0.78 -0.08 0
            0.78 0.08 0
            0.78 0.08 0.3
            -0.78 0.08 0.3
            -0.78 0.08 0
            0.75 -0.05 0.3
            0.75 0.05 0.3
            -0.75 0.05 0.3
            -0.75 -0.05 0.3
            0.75 -0.05 0.3
            0.75 0.05 0.3
            -0.75 0.05 0.3
            -0.75 -0.05 0.3
          ]
        }
        texCoord TextureCoordinate {
          point [
            0 0
            1 0
            1 1
            0 1
            0 0.3846153846153846
            1 0.3846153846153846
            0 0.3846153846153846
            0.10256410256410256 0.3846153846153846
            0.10256410256410256 0
            0 0
            0.001 0
            0.001 0.001
            0 0.001
          ]
        }
        coordIndex [
          0, 1, 2, 3, -1, 4, 7, 6, 5, -1, 0, 4, 5, 1, -1, 7, 3, 2, 6, -1, 1, 5, 9, 8, -1, 5, 6, 10, 9, -1, 6, 2, 11, 10, -1, 2, 1, 8, 11, -1, 0, 3, 7, 4, -1
        ]
        texCoordIndex [
          1, 5, 4, 0, -1, 0, 1, 5, 4, -1, 0, 8, 7, 6, -1, 0, 8, 7, 6, -1, 9, 10, 11, 12, -1, 9, 10, 11, 12, -1, 9, 10, 11, 12, -1, 9, 10, 11, 12, -1, 9, 10, 11, 12, -1
        ]
      }
    }
  ]
  name "conveyor belt"
  boundingObject Group {
    children [
      Pose {
        translation 0.765 0 0.15
        children [
          Box {
            size 0.03 0.16 0.3
          }
        ]
      }
      Pose {
        translation -0.765 0 0.15
        children [
          Box {
            size 0.03 0.16 0.3
          }
        ]
      }
      Pose {
        translation 0 -0.065 0.15
        children [
          Box {
            size 1.5 0.03 0.3
          }
        ]
      }
      Pose {
        translation 0 0.065 0.15
        children [
          Box {
            size 1.5 0.03 0.3
          }
        ]
      }
    ]
  }
  controller "conveyor_belt_controller"
  controllerArgs [
    "0"
    "0"
  ]
  supervisor TRUE
  window "<none>"
}
WoodenBox {
  translation 1.05 0 0.05
  name "crate console"
  size 0.4 0.3 0.1
}
WoodenBox {
  translation 0.6 0.3 0.15
  rotation 0 0 1 4.692820414042842e-06
  name "robot console"
  size 0.3 0.3 0.3
}
PlasticCrate {
  translation 1.05 0 0.1
  size 0.4 0.3 0.2
  color 0 0 1
}
DEF NIRYO_NED Ned {
  translation 0.6 0.3 0.3
  rotation 0 0 1 3.14159
  controller "niryoNEDV2_controller"
  supervisor TRUE
}
